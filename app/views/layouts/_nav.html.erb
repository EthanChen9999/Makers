<nav class="navbar navbar-inverse" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <%= link_to 'Designing Muse', :root, class: "navbar-brand", 'style': 'color: #eee'%>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <%= form_tag search_products_path, :method => :get, class: "navbar-form navbar-left", role: "search" do %>
          <div class="form-group">
            <%= text_field_tag :query, params[:query], class: "form-control", placeholder: t("action.search") %>
            <%= button_tag type: "submit", class: "btn btn-default" do %>
            <span class="glyphicon glyphicon-search"></span>
            <% end %>
          </div>
          <% end %>


        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="fa fa-globe fa-lg" aria-hidden="true"></span><span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><%= link_to "简体中文", change_locale_path(locale: "zh-CN") %></li>

            <li><%= link_to "繁體中文", change_locale_path(locale: "zh-TW") %></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span><span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <% if current_user %>
              <li><%= link_to current_user.username, members_index_path %></li>
              <li><%= link_to(t("admin.update_profile"), edit_user_registration_path(:user)) %></li>
              <li><%= link_to(t("admin.login_out"), destroy_user_session_path, :method => :delete)  %> </li>

            <% else %>
              <li><%= link_to(t("admin.registration"), new_registration_path(:user), remote: true, method: "get", "data-toggle": "modal", "data-target": ".registration_modal") %> </li>
              <li><%= link_to(t("admin.login"), new_session_path(:user), remote: true, method: "get", "data-toggle": "modal", "data-target": ".login_modal") %></li>
            <% end %>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<!-- Login Modal -->
<div class="modal fade login_modal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
      </div>
      <div class="modal-body">
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
<!-- Registration Modal -->
<div class="modal fade registration_modal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
      </div>
      <div class="modal-body">
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
